{"changed":true,"filter":false,"title":"temps","tooltip":"/temps","value":"function FoodSet(Hours) {\n    var tFood = iPart+\"background-color:#027527;'>\";\n    var characters = findObjs({_type: \"character\" ,inplayerjournals: \"all\"});\n    _.each(characters, function(id) {\n        var aName = findObjs({_type: \"attribute\",name: \"Name\",_characterid: id.id}, {caseInsensitive: true})[0];\n        var aFood = findObjs({ _type: \"attribute\",name: \"HUNGER\",_characterid: id.id}, {caseInsensitive: true})[0];\n        var HungH = findObjs({_type: \"attribute\",name: \"HUNGERH\",_characterid: id.id}, {caseInsensitive: true})[0];\n        if(HungH !== undefined) {\n            var Hperc = HungH.get(\"current\");\n            var FoodCount = parseFloat(aFood.get(\"current\")-(Hperc*Hours));\n            if (FoodCount > 100) FoodCount = 100;\n            FoodCount = Math.round(FoodCount.toFixed(1));\n            var name = aName.get(\"current\");\n            aFood.set('current', FoodCount);\n            if (FoodCount < 15) {\n                tFood = tFood.concat(name + \" is starving [\"+FoodCount+\"]!<small><br>(-8 on all rolls -60% skills).</small>\");\n            }\n            else if (FoodCount < 30) {\n                tFood = tFood.concat(name + \" needs to eat [\"+FoodCount+\"].<br><h6>(-2 on all rolls -30% skills).</h6>\");\n\n            }\n            else if (FoodCount < 50) {\n                tFood = tFood.concat(name + \" is getting hungry.<br>\");\n            }\n        }\n    });\n    sendChat('', \"/direct \" + tFood + \"</div>\");\n};\nfunction SleepSet(Hours) {\n    var tFood = iPart+\"background-color:#027527;'>\";\n    var characters = findObjs({_type: \"character\" ,inplayerjournals: \"all\"});\n    tSleep = iPart +\"background-color:#825930;'>\";\n    _.each(characters, function(id) {\n        var aName = findObjs({_type: \"attribute\",name: \"Name\",_characterid: id.id}, {caseInsensitive: true})[0];\n        var aSleep = findObjs({ _type: \"attribute\",name: \"SLEEP\",_characterid: id.id}, {caseInsensitive: true})[0];\n        var Sleeping = findObjs({ _type: \"attribute\",name: \"SLEEPING\",_characterid: id.id}, {caseInsensitive: true})[0];\n        if(aSleep !== undefined) {\n            HoursPassed = Hours\n            var MaxUp = aSleep.get(\"max\");\n            var HoursUp = parseFloat(+aSleep.get(\"current\") + +Hours);\n            var name = aName.get(\"current\");\n            //is asleep//\n            var IsSleeping = Sleeping.get(\"current\");\n            var IsSleepingAdjust = Sleeping.get(\"max\");\n            if (IsSleeping == 1 && HoursPassed != 0) {\n                var HoursUp = HoursUp - 1 - (Hours * IsSleepingAdjust);\n                var help = lPart + \"background-color:#1E2B78;'>● \"+name+\" is sleeping  ●<b></div>\";\n                sendChat('', \"/direct \" + help);\n            }\n            else {\n            var HoursUp = parseFloat(+aSleep.get(\"current\") + +Hours);\n            }\n            if (HoursUp < 0) HoursUp = 0;\n            aSleep.set('current', HoursUp);\n            if (HoursUp > MaxUp) {\n                tSleep = tSleep.concat(name + \" passes out.</div>\");\n            }\n            else if (HoursUp >= MaxUp) {\n                tSleep = tSleep.concat(name + \" is barely able to stay awake!<br><div>(up \"+ HoursUp +\" hours)<br>[-8 on all rolls, -75% on perception rolls, -75% skills, 75% to fall asleep].</div>\");\n            }\n            else if (HoursUp > (MaxUp * 0.65)) {\n                tSleep = tSleep.concat( name + \" seriously needs to sleep.<br>(up \"+ HoursUp +\" hours)<br>[-2 on all rolls, -30% on perception rolls, -30% skills, 30% to fall asleep].\");\n            }\n            else if (HoursUp > (MaxUp * 0.5)) {\n                tSleep = tSleep.concat(name + \" is getting sleepy.<br>(up \"+ HoursUp +\" hours)<br>[-15% on perception roll,-10% skills].\");\n\n            }\n        }\n    });\n    sendChat('', \"/direct \" + tSleep + \"</div>\");\n};","undoManager":{"mark":55,"position":100,"stack":[[{"start":{"row":39,"column":70},"end":{"row":39,"column":82},"action":"remove","lines":["            "],"id":282},{"start":{"row":50,"column":70},"end":{"row":50,"column":74},"action":"remove","lines":["    "]}],[{"start":{"row":75,"column":30},"end":{"row":75,"column":35},"action":"remove","lines":["tFood"],"id":283},{"start":{"row":75,"column":30},"end":{"row":75,"column":36},"action":"insert","lines":["tSleep"]}],[{"start":{"row":30,"column":77},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":284},{"start":{"row":31,"column":0},"end":{"row":31,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":31,"column":4},"end":{"row":31,"column":49},"action":"insert","lines":["tSleep = iPart +\"background-color:#825930;'>\""],"id":285}],[{"start":{"row":31,"column":49},"end":{"row":31,"column":50},"action":"insert","lines":[";"],"id":286}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":70},"action":"remove","lines":["tSleep = OuterDiv+iPart +\"background-color:#825930;'>\""],"id":287},{"start":{"row":56,"column":16},"end":{"row":56,"column":29},"action":"insert","lines":["tFood.concat("]}],[{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"insert","lines":["t"],"id":288}],[{"start":{"row":56,"column":17},"end":{"row":56,"column":18},"action":"insert","lines":["S"],"id":289}],[{"start":{"row":56,"column":18},"end":{"row":56,"column":19},"action":"insert","lines":["l"],"id":290}],[{"start":{"row":56,"column":19},"end":{"row":56,"column":20},"action":"insert","lines":["e"],"id":291}],[{"start":{"row":56,"column":20},"end":{"row":56,"column":21},"action":"insert","lines":["e"],"id":292}],[{"start":{"row":56,"column":21},"end":{"row":56,"column":22},"action":"insert","lines":["p"],"id":293}],[{"start":{"row":56,"column":22},"end":{"row":56,"column":23},"action":"insert","lines":[" "],"id":294}],[{"start":{"row":56,"column":23},"end":{"row":56,"column":24},"action":"insert","lines":["="],"id":295}],[{"start":{"row":56,"column":24},"end":{"row":56,"column":25},"action":"insert","lines":[" "],"id":296}],[{"start":{"row":56,"column":25},"end":{"row":56,"column":30},"action":"remove","lines":["tFood"],"id":297},{"start":{"row":56,"column":25},"end":{"row":56,"column":31},"action":"insert","lines":["tSleep"]}],[{"start":{"row":56,"column":41},"end":{"row":56,"column":42},"action":"remove","lines":[" "],"id":298}],[{"start":{"row":56,"column":40},"end":{"row":56,"column":41},"action":"remove","lines":["+"],"id":299}],[{"start":{"row":56,"column":39},"end":{"row":56,"column":40},"action":"remove","lines":[" "],"id":300}],[{"start":{"row":61,"column":16},"end":{"row":61,"column":64},"action":"remove","lines":["tSleep = iPart +\"background-color:#825930;'>\" + "],"id":301},{"start":{"row":61,"column":16},"end":{"row":61,"column":39},"action":"insert","lines":["tSleep = tSleep.concat("]}],[{"start":{"row":66,"column":16},"end":{"row":66,"column":63},"action":"remove","lines":["tSleep = iPart +\"background-color:#825930;'>\" +"],"id":302},{"start":{"row":66,"column":16},"end":{"row":66,"column":39},"action":"insert","lines":["tSleep = tSleep.concat("]}],[{"start":{"row":71,"column":16},"end":{"row":71,"column":64},"action":"remove","lines":["tSleep = iPart +\"background-color:#999999;'>\" + "],"id":303},{"start":{"row":71,"column":16},"end":{"row":71,"column":39},"action":"insert","lines":["tSleep = tSleep.concat("]}],[{"start":{"row":72,"column":0},"end":{"row":72,"column":50},"action":"remove","lines":["                sendChat('', \"/direct \" + tSleep);"],"id":304}],[{"start":{"row":67,"column":0},"end":{"row":67,"column":50},"action":"remove","lines":["                sendChat('', \"/direct \" + tSleep);"],"id":305}],[{"start":{"row":67,"column":0},"end":{"row":68,"column":0},"action":"remove","lines":["",""],"id":306}],[{"start":{"row":67,"column":0},"end":{"row":67,"column":23},"action":"remove","lines":["                return;"],"id":307}],[{"start":{"row":67,"column":0},"end":{"row":68,"column":0},"action":"remove","lines":["",""],"id":308}],[{"start":{"row":63,"column":0},"end":{"row":63,"column":23},"action":"remove","lines":["                return;"],"id":309}],[{"start":{"row":63,"column":0},"end":{"row":64,"column":0},"action":"remove","lines":["",""],"id":310}],[{"start":{"row":57,"column":0},"end":{"row":58,"column":23},"action":"remove","lines":["                sendChat('', \"/direct \" + tSleep);","                return;"],"id":311}],[{"start":{"row":57,"column":0},"end":{"row":58,"column":0},"action":"remove","lines":["",""],"id":312}],[{"start":{"row":60,"column":0},"end":{"row":60,"column":50},"action":"remove","lines":["                sendChat('', \"/direct \" + tSleep);"],"id":313}],[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"remove","lines":["",""],"id":314}],[{"start":{"row":56,"column":66},"end":{"row":56,"column":67},"action":"insert","lines":[")"],"id":315}],[{"start":{"row":59,"column":193},"end":{"row":59,"column":194},"action":"insert","lines":[")"],"id":316}],[{"start":{"row":62,"column":190},"end":{"row":62,"column":191},"action":"insert","lines":[")"],"id":317}],[{"start":{"row":65,"column":143},"end":{"row":65,"column":144},"action":"insert","lines":[")"],"id":318}],[{"start":{"row":26,"column":48},"end":{"row":26,"column":49},"action":"insert","lines":[" "],"id":319}],[{"start":{"row":26,"column":49},"end":{"row":26,"column":50},"action":"insert","lines":["l"],"id":320}],[{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"insert","lines":["o"],"id":321}],[{"start":{"row":26,"column":51},"end":{"row":26,"column":52},"action":"insert","lines":["g"],"id":322}],[{"start":{"row":26,"column":51},"end":{"row":26,"column":52},"action":"remove","lines":["g"],"id":323}],[{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"remove","lines":["o"],"id":324}],[{"start":{"row":26,"column":49},"end":{"row":26,"column":50},"action":"remove","lines":["l"],"id":325}],[{"start":{"row":26,"column":49},"end":{"row":26,"column":50},"action":"insert","lines":["l"],"id":326}],[{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"insert","lines":["o"],"id":327}],[{"start":{"row":26,"column":51},"end":{"row":26,"column":52},"action":"insert","lines":["g"],"id":328}],[{"start":{"row":26,"column":51},"end":{"row":26,"column":52},"action":"remove","lines":["g"],"id":329}],[{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"remove","lines":["o"],"id":330}],[{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"insert","lines":["o"],"id":331}],[{"start":{"row":26,"column":50},"end":{"row":26,"column":51},"action":"remove","lines":["o"],"id":332}],[{"start":{"row":26,"column":49},"end":{"row":26,"column":50},"action":"remove","lines":["l"],"id":333}],[{"start":{"row":26,"column":49},"end":{"row":26,"column":50},"action":"insert","lines":["l"],"id":334}],[{"start":{"row":26,"column":49},"end":{"row":26,"column":50},"action":"remove","lines":["l"],"id":335},{"start":{"row":26,"column":49},"end":{"row":26,"column":54},"action":"insert","lines":["lPart"]}],[{"start":{"row":26,"column":49},"end":{"row":26,"column":54},"action":"remove","lines":["lPart"],"id":336}],[{"start":{"row":26,"column":48},"end":{"row":26,"column":49},"action":"remove","lines":[" "],"id":337}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":28},"action":"remove","lines":["            var tSleep = '';"],"id":338}],[{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""],"id":339}],[{"start":{"row":57,"column":12},"end":{"row":57,"column":13},"action":"insert","lines":["e"],"id":340}],[{"start":{"row":57,"column":13},"end":{"row":57,"column":14},"action":"insert","lines":["s"],"id":341}],[{"start":{"row":57,"column":13},"end":{"row":57,"column":14},"action":"remove","lines":["s"],"id":342}],[{"start":{"row":57,"column":13},"end":{"row":57,"column":14},"action":"insert","lines":["l"],"id":343}],[{"start":{"row":57,"column":14},"end":{"row":57,"column":15},"action":"insert","lines":["s"],"id":344}],[{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"insert","lines":["e"],"id":345}],[{"start":{"row":57,"column":16},"end":{"row":57,"column":17},"action":"insert","lines":[" "],"id":346}],[{"start":{"row":60,"column":12},"end":{"row":60,"column":13},"action":"insert","lines":["e"],"id":347}],[{"start":{"row":60,"column":13},"end":{"row":60,"column":14},"action":"insert","lines":["l"],"id":348}],[{"start":{"row":60,"column":14},"end":{"row":60,"column":15},"action":"insert","lines":["s"],"id":349}],[{"start":{"row":60,"column":15},"end":{"row":60,"column":16},"action":"insert","lines":["e"],"id":350}],[{"start":{"row":60,"column":16},"end":{"row":60,"column":17},"action":"insert","lines":[" "],"id":351}],[{"start":{"row":64,"column":136},"end":{"row":64,"column":137},"action":"remove","lines":["<"],"id":352}],[{"start":{"row":64,"column":136},"end":{"row":64,"column":137},"action":"remove","lines":["/"],"id":353}],[{"start":{"row":64,"column":136},"end":{"row":64,"column":137},"action":"remove","lines":["d"],"id":354}],[{"start":{"row":64,"column":136},"end":{"row":64,"column":137},"action":"remove","lines":["i"],"id":355}],[{"start":{"row":64,"column":136},"end":{"row":64,"column":137},"action":"remove","lines":["v"],"id":356}],[{"start":{"row":64,"column":136},"end":{"row":64,"column":137},"action":"remove","lines":[">"],"id":357}],[{"start":{"row":61,"column":183},"end":{"row":61,"column":184},"action":"remove","lines":["<"],"id":358}],[{"start":{"row":61,"column":183},"end":{"row":61,"column":184},"action":"remove","lines":["/"],"id":359}],[{"start":{"row":61,"column":183},"end":{"row":61,"column":184},"action":"remove","lines":["d"],"id":360}],[{"start":{"row":61,"column":183},"end":{"row":61,"column":184},"action":"remove","lines":["i"],"id":361}],[{"start":{"row":61,"column":183},"end":{"row":61,"column":184},"action":"remove","lines":["v"],"id":362}],[{"start":{"row":61,"column":183},"end":{"row":61,"column":184},"action":"remove","lines":[">"],"id":363}],[{"start":{"row":58,"column":186},"end":{"row":58,"column":187},"action":"remove","lines":["<"],"id":364}],[{"start":{"row":58,"column":186},"end":{"row":58,"column":187},"action":"remove","lines":["/"],"id":365}],[{"start":{"row":58,"column":186},"end":{"row":58,"column":187},"action":"remove","lines":["d"],"id":366}],[{"start":{"row":58,"column":186},"end":{"row":58,"column":187},"action":"remove","lines":["i"],"id":367}],[{"start":{"row":58,"column":186},"end":{"row":58,"column":187},"action":"remove","lines":["v"],"id":368}],[{"start":{"row":58,"column":186},"end":{"row":58,"column":187},"action":"remove","lines":[">"],"id":369}],[{"start":{"row":58,"column":81},"end":{"row":58,"column":82},"action":"insert","lines":["<"],"id":370}],[{"start":{"row":58,"column":82},"end":{"row":58,"column":83},"action":"insert","lines":["d"],"id":371}],[{"start":{"row":58,"column":83},"end":{"row":58,"column":84},"action":"insert","lines":["v"],"id":372}],[{"start":{"row":58,"column":83},"end":{"row":58,"column":84},"action":"remove","lines":["v"],"id":373}],[{"start":{"row":58,"column":83},"end":{"row":58,"column":84},"action":"insert","lines":["i"],"id":374}],[{"start":{"row":58,"column":84},"end":{"row":58,"column":85},"action":"insert","lines":["v"],"id":375}],[{"start":{"row":58,"column":85},"end":{"row":58,"column":86},"action":"insert","lines":[">"],"id":376}],[{"start":{"row":58,"column":191},"end":{"row":58,"column":192},"action":"insert","lines":["<"],"id":377}],[{"start":{"row":58,"column":192},"end":{"row":58,"column":193},"action":"insert","lines":["/"],"id":378}],[{"start":{"row":58,"column":193},"end":{"row":58,"column":194},"action":"insert","lines":["d"],"id":379}],[{"start":{"row":58,"column":194},"end":{"row":58,"column":195},"action":"insert","lines":["i"],"id":380}],[{"start":{"row":58,"column":195},"end":{"row":58,"column":196},"action":"insert","lines":["v"],"id":381}],[{"start":{"row":58,"column":196},"end":{"row":58,"column":197},"action":"insert","lines":[">"],"id":382}]]},"ace":{"folds":[],"scrolltop":103,"scrollleft":63.3803125,"selection":{"start":{"row":13,"column":44},"end":{"row":13,"column":44},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1462758418067}